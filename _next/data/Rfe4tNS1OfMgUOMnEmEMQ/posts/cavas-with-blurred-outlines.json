{"pageProps":{"post":{"title":"Why do shapes inside canvas have blurred outlines?","date":"March 29, 2020","content":"<p>To be on point, it just could be that you have set your canvas dimensions through CSS. You must not do that like I did once! Set width and height through default attributes that come with <code>&lt;canvas></code>.</p>\n<p>Weâ€™ll do a little coding to look at the difference between these two approaches.</p>\n<p>Start off with the following HTML:</p>\n<pre>\n  <code class='language-html'>\n&lt;div id=\"box-canvas-css\">\n  &lt;p>Canvas with width and height set with CSS (Inner borders are blurred)</p>\n  &lt;canvas id=\"canvas-css\">&lt;/canvas>\n&lt;/div>\n\n&lt;div id=\"box-canvas-attr\">\n  &lt;p>Canvas with width and height set with default attributes (Inner borders are sharp)&lt;/p>\n  &lt;canvas id=\"canvas-attr\"></canvas>\n&lt;/div>\n  </code>\n</pre>\n\n<p>And CSS:</p>\n<pre>\n  <code class='language-css'>\nbody {\n  margin: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center\n}\n#box-canvas-css, #box-canvas-attr {\n  width: 90%;\n  height: 10%;\n}\n  </code>\n</pre>\n\n<p>Place your <code>&lt;script></code> after the HTML and first pick up the two canvases:</p>\n<pre>\n  <code class='language-javascript'>\nlet canvasCSS = document.getElementById('canvas-css')\nlet canvasATTR = document.getElementById('canvas-attr')\n  </code>\n</pre>\n\n<p>Set width and height through CSS for <code>canvasCSS</code>:</p>\n<pre>\n  <code class='language-javascript'>\ncanvasCSS.style.width = document.getElementById('box-canvas-css').offsetWidth\ncanvasCSS.style.height = document.getElementById('box-canvas-css').offsetHeight\n  </code>\n</pre>\n\n<p>And for <code>canvasATTR</code>, set them through default attributes:</p>\n<pre>\n  <code class='language-javascript'>\ncanvasATTR.width = document.getElementById('box-canvas-attr').offsetWidth\ncanvasATTR.height = document.getElementById('box-canvas-attr').offsetHeight\n  </code>\n</pre>\n\n<p>Now we can draw the shapes:</p>\n<p>We will draw four rectangles lined up horizontally on each canvas. <code>colors</code> below represent the four colors for each of them.</p>\n<pre>\n  <code class='language-javascript'>\nlet colors = ['rgb(136, 0, 68)', 'rgb(230, 0, 115)', 'rgb(255, 91, 173)', 'rgb(255, 183, 219)']\n  </code>\n</pre>\n\n<p>We can whip up a function to do the drawing in each canvas. First it calls <code>getContext()</code>, then inside the loop which iterates four times, it picks up one color at a time from <code>colors</code>, and draws four rectangles placed one next to the other.</p>\n<pre>\n  <code class='language-javascript'>\nfunction draw(canvas, colors){\n  let context = canvas.getContext('2d')\n\n  for(let i=0; i < 4; i++){\n    context.fillStyle = colors[i]\n    context.fillRect((i*.25*canvas.width), 0, (.25*canvas.width), canvas.height)\n  }\n}\n  </code>\n</pre>\n\n<p>Now we can call it:</p>\n<pre>\n  <code class='language-javascript'>\ndraw(canvasCSS, colors)\ndraw(canvasATTR, colors)\n  </code>\n</pre>\n\n<p>Look how the rectangles in the first canvas has visibly blurred inner borders, while in the second one they are as sharp as they should be. The CSS just gives a stretched out look to the canvas instead of setting the dimensions right.</p>\n<img src='/images/cavas-with-blurred-outlines/image.png' />\n\n<p>You can find the complete code with a demo <a href=\"https://github.com/fazeelanizam13/blog3-setting-canvas-dimensions-with-css-vs-attributes\" target=\"_blank\">here</a> on GitHub.</p>\n"}},"__N_SSG":true}